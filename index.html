<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />

  <title>Null Up.LLC</title>

  <!-- Favicon (SVG) : same mark -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A//www.w3.org/2000/svg'%20viewBox%3D'0%200%20100%20100'%3E%3Cpath%20d%3D'M50%205C38%2017%2028%2028%2020%2038c-8%2010-12%2021-12%2032%200%2019%2015%2035%2034%2035h16c19%200%2034-16%2034-35%200-11-4-22-12-32C72%2028%2062%2017%2050%205z'%20fill%3D'%233D3D95'/%3E%3Cpath%20d%3D'M33%2076V34h10l15%2020V34h9v42h-10L42%2056v20z'%20fill%3D'%23ffffff'/%3E%3Cpath%20d%3D'M74%2076c-10%200-16-6-16-16V34h9v26c0%205%202%208%207%208s7-3%207-8V34h9v26c0%2010-6%2016-16%2016z'%20fill%3D'%23ffffff'/%3E%3C/svg%3E" />
  <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A//www.w3.org/2000/svg'%20viewBox%3D'0%200%20100%20100'%3E%3Cpath%20d%3D'M50%205C38%2017%2028%2028%2020%2038c-8%2010-12%2021-12%2032%200%2019%2015%2035%2034%2035h16c19%200%2034-16%2034-35%200-11-4-22-12-32C72%2028%2062%2017%2050%205z'%20fill%3D'%233D3D95'/%3E%3Cpath%20d%3D'M33%2076V34h10l15%2020V34h9v42h-10L42%2056v20z'%20fill%3D'%23ffffff'/%3E%3Cpath%20d%3D'M74%2076c-10%200-16-6-16-16V34h9v26c0%205%202%208%207%208s7-3%207-8V34h9v26c0%2010-6%2016-16%2016z'%20fill%3D'%23ffffff'/%3E%3C/svg%3E" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;900&family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet" />

  <style>
    :root {
      /* Null Up brand palette (from logo) */
      --bg: #3D3D95;
      --bg-soft: #4A4AB0;
      --text: #ffffff;
      --text-sub: #e5e7ff;
      --accent: #ffffff;
      --logo-primary: #ffffff;
      --logo-secondary: var(--bg);
      --border: rgba(255, 255, 255, 0.25);
      --border-width: 2px;

      /* Modal palette */
      --modal-bg: #ffffff;
      --modal-text: #0f1020;
      --modal-sub: rgba(15,16,32,0.78);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', 'Noto Sans JP', sans-serif;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
    }

    /* Utilities */
    .u-caps {
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-size: 0.75rem;
      font-weight: 600;
    }

    /* Loader */
    .loader {
      position: fixed;
      inset: 0;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      background: url('Null Up壁紙.jpg') center / cover no-repeat;
      isolation: isolate;
      transition: transform 0.8s cubic-bezier(0.76, 0, 0.24, 1);
    }
    .loader::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(61, 61, 149, 0.18);
      z-index: -1;
    }
    .loader-sr {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }
    .loader.hide { transform: translateY(-100%); }

    /* Header */
    header {
      min-height: auto;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      padding: 2vw 2vw 1vw;
      position: relative;
    }
    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
    }

    .lang-switch {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.25rem;
      border: 1px solid rgba(255,255,255,0.25);
      border-radius: 999px;
      background: rgba(255,255,255,0.06);
      backdrop-filter: blur(6px);
    }
    .lang-btn {
      appearance: none;
      border: 0;
      background: transparent;
      color: var(--text);
      font: inherit;
      font-size: 0.8rem;
      font-weight: 700;
      padding: 0.45rem 0.8rem;
      border-radius: 999px;
      cursor: pointer;
      opacity: 0.8;
    }
    .lang-btn[aria-pressed="true"] {
      background: rgba(255,255,255,0.18);
      opacity: 1;
    }
    .lang-btn:focus-visible {
      outline: 2px solid rgba(255,255,255,0.55);
      outline-offset: 2px;
    }

    .brand {
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      line-height: 1;
      min-height: 34px;
    }

    /* Brand mark (SVG) + text */
    .brand-mark {
      width: 34px;
      height: 34px;
      display: inline-block;
      flex: 0 0 auto;
    }
    .brand-mark svg { width: 100%; height: 100%; display: block; }
    .brand-mark .logo-primary { fill: var(--logo-primary, var(--text)); }
    .brand-mark .logo-secondary { fill: var(--logo-secondary, var(--bg)); }

    .logo {
      font-size: 1.5rem;
      font-weight: 900;
      letter-spacing: -0.05em;
      line-height: 1;
    }

    .brand-role:empty { display: none; }

    .hero-title {
      font-size: 11vw;
      line-height: 0.9;
      font-weight: 900;
      letter-spacing: -0.04em;
      margin: 2.2rem 0 1rem;
      text-transform: uppercase;
      word-break: keep-all;
    }
    .hero-title span {
      display: block;
      opacity: 0;
      transform: translateY(100px);
      transition: 1s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .loaded .hero-title span { opacity: 1; transform: translateY(0); }

    /* Marquee */
    .marquee-wrap {
      overflow: hidden;
      white-space: nowrap;
      border-top: var(--border-width) solid var(--border);
      border-bottom: var(--border-width) solid var(--border);
      padding: 1.5rem 0;
      background: var(--bg-soft);
    }
    .marquee-content { display: inline-block; animation: marquee 20s linear infinite; }
    .marquee-text {
      font-size: 4rem;
      font-weight: 900;
      -webkit-text-stroke: 1px var(--text);
      color: transparent;
      margin-right: 2rem;
    }
    @keyframes marquee {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    /* Grid Sections */
    .grid-section {
      display: grid;
      grid-template-columns: 18% 82%;
      border-bottom: var(--border-width) solid var(--border);
    }

    /* tighter manifesto spacing + remove huge empty area */
    .sticky-col {
      padding: 2.2rem 2vw;
      border-right: var(--border-width) solid var(--border);
      position: sticky;
      top: 0;
      height: auto;              /* was 100vh (caused large empty space) */
      background: var(--bg);
      display: flex;
      flex-direction: column;
      justify-content: flex-start; /* was space-between */
      gap: 0.6rem;
      z-index: 1;
    }
    .content-col { padding: 0; position: relative; }

    /* Manifesto */
    .big-lead {
      font-size: 2.4rem;
      font-weight: 700;
      line-height: 1.35;
      padding: 2.6rem 4rem 2.8rem; /* reduced */
      margin: 0;
      max-width: 980px;
    }

    /* Works */
    .work-item {
      display: block;
      position: relative;
      border-bottom: 1px solid rgba(255, 255, 255, 0.18);
      padding: 3.2rem 4rem; /* slightly tighter */
      transition: background 0.3s;
      text-decoration: none;
      color: inherit;
      cursor: pointer;
    }
    .work-item img.check-img { display: none; }
    .work-item:last-child { border-bottom: none; }
    .work-item:hover { background: rgba(255, 255, 255, 0.06); }
    .work-header { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 1.6rem; }
    .work-num { font-family: 'Inter'; font-weight: 600; color: var(--text-sub); }
    .work-title { font-size: 4vw; margin: 0; font-weight: 800; line-height: 1; }

    /* Hover reveal image */
    .cursor-img {
      position: fixed;
      width: 400px;
      height: 300px;
      object-fit: cover;
      pointer-events: none;
      z-index: 10;
      opacity: 0;
      transform: scale(0.8);
      transition: opacity 0.3s, transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
      border: 2px solid rgba(255, 255, 255, 0.6);
      background: rgba(255, 255, 255, 0.08);
    }
    .cursor-img.active { opacity: 1; transform: scale(1); }

    /* Modal */
    .modal-wrap {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.85);
      z-index: 10000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
    }
    .modal-wrap.open { opacity: 1; pointer-events: auto; }

    .modal-content {
      width: min(1100px, 100%);
      max-height: min(720px, 85vh);
      display: grid;
      grid-template-columns: 1fr 1fr;
      background: var(--modal-bg);
      border-radius: 14px;
      overflow: hidden;
      position: relative;
      box-shadow: 0 30px 120px rgba(0,0,0,0.55);
      color: var(--modal-text);
    }

    .modal-img { width: 100%; height: 100%; object-fit: cover; min-height: 420px; background: #0b0c1a; }

    .modal-info {
      padding: 3rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
      color: var(--modal-text);
      background: var(--modal-bg);
    }
    .modal-info h2 {
      color: var(--modal-text);
      margin: 0 0 1rem 0;
      font-size: 2.6rem;
      line-height: 1;
      background: transparent; /* ensure no “highlight bar” */
    }
    .modal-info p {
      margin: 0;
      color: var(--modal-sub);
      font-size: 1rem;
      line-height: 1.7;
      background: transparent;
    }
    .modal-info ::selection { background: rgba(61,61,149,0.18); }

    .modal-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      width: 42px;
      height: 42px;
      border-radius: 10px;
      background: rgba(0,0,0,0.85);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      font-weight: 900;
      border: 1px solid rgba(255,255,255,0.18);
    }

    /* Profile table */
    .company-table { width: 100%; border-collapse: collapse; margin-top: 0; }
    .company-table tr { border-bottom: 1px solid rgba(255, 255, 255, 0.18); }
    .company-table th, .company-table td { padding: 2rem 4rem; text-align: left; vertical-align: top; }
    .company-table th { width: 30%; font-weight: 600; color: var(--text-sub); }
    .company-table td { font-weight: 400; line-height: 1.6; }

    /* Footer */
    .footer {
      padding: 6rem 2vw;
      border-top: var(--border-width) solid var(--border);
      background: var(--bg-soft);
      color: var(--text);
    }
    .footer-big { font-size: 10vw; font-weight: 900; line-height: 0.9; margin: 0 0 4rem 0; }
    .footer-links a {
      color: #fff;
      text-decoration: none;
      font-size: 1.5rem;
      margin-right: 2rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.25);
    }
    .footer-links a:hover { color: var(--accent); border-color: var(--accent); }

    /* Mobile */
    @media (max-width: 900px) {
      header { padding: 1.5rem; }
      .hero-title { font-size: 18vw; margin-top: 2rem; }

      .grid-section { grid-template-columns: 1fr; }
      .sticky-col {
        position: relative;
        height: auto;
        padding: 1.5rem;
        border-right: none;
        border-bottom: var(--border-width) solid var(--border);
      }

      .big-lead { font-size: 1.5rem; padding: 2rem 1.5rem; }
      .work-item { padding: 2rem 1.5rem; }
      .work-title { font-size: 2.1rem; margin-top: 0.8rem; }
      .cursor-img { display: none; }

      .company-table th, .company-table td { display: block; width: 100%; padding: 1rem 1.5rem; }
      .company-table th { padding-bottom: 0; color: var(--accent); font-size: 0.8rem; }
      .company-table td { padding-top: 0.5rem; border-bottom: 1px solid rgba(255, 255, 255, 0.12); }

      .footer { padding: 3rem 1.5rem; }
      .footer-big { font-size: 15vw; }
      .footer-links a { display: block; margin-bottom: 1rem; font-size: 1.2rem; }

      .modal-content { grid-template-columns: 1fr; max-height: 85vh; }
      .modal-img { height: 320px; min-height: 0; }
      .modal-info { padding: 1.5rem; }
      .modal-info h2 { font-size: 2rem; }
    }
  </style>
</head>
<body>
  <div class="loader" aria-label="Null Up loading" role="img">
    <div class="loader-sr">Loading…</div>
  </div>

  <img id="hover-reveal" class="cursor-img" src="" alt="" />

  <div class="modal-wrap" id="modal-wrap" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-label="Work details">
      <div class="modal-close" id="modal-close" aria-label="Close">✕</div>
      <img src="" alt="" class="modal-img" id="modal-img" />
      <div class="modal-info">
        <h2 id="modal-title"></h2>
        <p id="modal-desc"></p>
      </div>
    </div>
  </div>

  <header>
    <div class="header-top">
      <div class="brand">
        <span class="brand-mark" aria-hidden="true">
          <svg viewBox="160 98 60 60" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Null Up mark">
            <path class="logo-primary" d="M 214.164062 131.757812 C 214.074219 144.117188 203.554688 154.0625 190.671875 153.96875 C 177.789062 153.871094 167.425781 143.773438 167.515625 131.410156 C 167.609375 119.050781 191.085938 99.414062 191.085938 99.414062 C 191.085938 99.414062 214.257812 119.394531 214.164062 131.757812 Z"/>
            <path class="logo-secondary" d="M 194.867188 145.46875 L 188.425781 145.421875 L 176.042969 129.269531 C 175.398438 128.433594 174.933594 127.757812 174.644531 127.242188 L 174.550781 127.242188 C 174.660156 128.097656 174.707031 129.417969 174.691406 131.203125 L 174.585938 145.320312 L 168.621094 145.277344 L 168.804688 120.453125 L 175.667969 120.5 L 187.597656 136.199219 C 188.390625 137.242188 188.875 137.902344 189.050781 138.183594 L 189.148438 138.183594 C 189.023938 137.585938 188.96875 136.441406 188.984375 134.753906 L 189.089844 120.601562 L 195.054688 120.644531 Z"/>
            <path class="logo-secondary" d="M 213.0625 134.46875 C 213.0625 141.792969 209.015625 145.457031 200.925781 145.457031 C 193.109375 145.457031 189.203125 141.890625 189.203125 134.753906 L 189.203125 120.464844 L 195.441406 120.464844 L 195.441406 134.785156 C 195.441406 138.875 197.355469 140.921875 201.1875 140.921875 C 204.957031 140.921875 206.84375 138.949219 206.84375 135.007812 L 206.84375 120.464844 L 213.0625 120.464844 Z"/>
          </svg>
        </span>
        <div id="brand-name" class="logo">Null Up.LLC</div>
      </div>

      <div style="display:flex; align-items:center; gap:1rem;">
        <div id="brand-role" class="u-caps brand-role"></div>
        <nav class="lang-switch" aria-label="Language">
          <button class="lang-btn" type="button" id="lang-ja" aria-pressed="false">日本語</button>
          <button class="lang-btn" type="button" id="lang-en" aria-pressed="false">ENGLISH</button>
        </nav>
      </div>
    </div>
    <h1 class="hero-title" id="hero-title"></h1>
  </header>

  <div class="marquee-wrap">
    <div class="marquee-content" id="marquee-text"></div>
  </div>

  <section class="grid-section">
    <div class="sticky-col">
      <span class="u-caps" id="sec1-title">01 / Manifesto</span>
    </div>
    <div class="content-col">
      <p id="main-lead" class="big-lead"></p>
    </div>
  </section>

  <section class="grid-section">
    <div class="sticky-col">
      <span class="u-caps" id="sec2-title">02 / Selected Works</span>
      <div class="u-caps" id="sec2-sub" style="opacity:0.7;"></div>
    </div>
    <div class="content-col" id="works-container"></div>
  </section>

  <section class="grid-section">
    <div class="sticky-col">
      <span class="u-caps" id="sec3-title">03 / Profile</span>
      <div class="u-caps" id="sec3-sub" style="opacity:0.7;"></div>
    </div>
    <div class="content-col">
      <table class="company-table">
        <tr>
          <th>COMPANY NAME</th>
          <td id="co-name">Null Up.LLC Inc.</td>
        </tr>
        <tr>
          <th>ESTABLISHED</th>
          <td>2023.07.12</td>
        </tr>
        <tr>
          <th>BUSINESS</th>
          <td id="co-business">ゲーム・エンタメ企業支援 / 営業代行 / M＆A支援</td>
        </tr>
        <tr>
          <th>REPRESENTATIVE</th>
          <td>Shunya Saito</td>
        </tr>
      </table>
    </div>
  </section>

  <footer class="footer">
    <div class="footer-big" id="footer-title">LET'S TALK.</div>
    <div class="footer-links" id="footer-links"></div>
    <div style="margin-top: 4rem; opacity: 0.5; font-size: 0.8rem;">&copy; <span id="year"></span> <span id="footer-copy"></span></div>
  </footer>

  <script>
    // ==========================================
    // ★ かんたん設定エリア (ここを編集してください)
    // ==========================================
    const config = {
      locales: {
        ja: {
          name: "Null Up.LLC",
          role: "",
          companyNameFull: "Null Up.LLC Inc.",
          heroTitle: "CREATING<br>GAMING TRENDS.",
          marquee: "CREATING NEW GAMING TRENDS WITH NEW TECHNOLOGY! / ",
          lead: "私たちは未来への挑戦者を支える。<br>革新的なテクノロジーが芽吹く場所に、<br>新たなゲーム・エンタメの可能性が広がっていく。",
          business: "ゲーム・エンタメ企業支援 / 営業代行 / M＆A支援",
          sections: {
            sec1Title: "01 / Manifesto",
            sec2Title: "02 / Selected Works",
            sec2Sub: "Case Studies",
            sec3Title: "03 / Profile",
            sec3Sub: "About Us",
            footerTitle: "LET'S TALK."
          },
          workText: {
            1: { title: "Blockchain", desc: "ブロックチェーンゲーム企業を支援し、安心安全なオンボーディングから大手PF連携、グラント獲得まで一貫して伴走します。" },
            2: { title: "AI", desc: "AIを活用した新規サービス創出から、AIツールの営業代行まで。事業成長を加速させる実践的な支援を提供します。" },
            3: { title: "Metaverse", desc: "Roblox・Fortniteなどのメタバース開発を行う企業や、これから参入するクライアントを支援し、新しい体験づくりを後押しします。" },
            4: { title: "M&A", desc: "M&Aを望む企業同士のマッチングから、プロジェクトファイナンス支援まで。成長戦略に最適な選択を実現するサポートを行います。" }
          },
          strings: {
            modalFallback: "詳細情報が設定されていません。"
          }
        },
        en: {
          name: "Null Up.LLC",
          role: "",
          companyNameFull: "Null Up.LLC Inc.",
          heroTitle: "CREATING<br>GAMING TRENDS.",
          marquee: "CREATING NEW GAMING TRENDS WITH NEW TECHNOLOGY! / ",
          lead: "We empower challengers shaping the future.<br>Where innovative technology takes root,<br>new possibilities for games & entertainment begin to unfold.",
          business: "Game & entertainment support / Sales outsourcing / M&A advisory",
          sections: {
            sec1Title: "01 / Manifesto",
            sec2Title: "02 / Selected Works",
            sec2Sub: "Case Studies",
            sec3Title: "03 / Profile",
            sec3Sub: "About Us",
            footerTitle: "LET'S TALK."
          },
          workText: {
            1: { title: "Blockchain", desc: "We support blockchain game teams end-to-end—from safe onboarding to major platform partnerships and grant acquisition." },
            2: { title: "AI", desc: "From creating new services with AI to outbound sales for AI tools—we deliver practical support that accelerates growth." },
            3: { title: "Metaverse", desc: "We help studios building on platforms like Roblox and Fortnite—and guide newcomers in crafting next-gen experiences." },
            4: { title: "M&A", desc: "From partner matching to project finance support—we help you execute the right choice for your growth strategy." }
          },
          strings: {
            modalFallback: "Details are not available yet."
          }
        }
      },

      // footer links (same for both)
      links: [
        { label: "Behance", url: "#" },
        { label: "Contact", url: "shunya.s@null-up.com" }
      ]
    };

    // ==========================================
    // ▼ ここから下はプログラムの動作部分です
    // ==========================================

    function $(id) {
      return document.getElementById(id);
    }

    function safeSetText(id, text) {
      const el = $(id);
      if (!el) return false;
      el.textContent = text;
      return true;
    }

    function safeSetHTML(id, html) {
      const el = $(id);
      if (!el) return false;
      el.innerHTML = html;
      return true;
    }

    function runSelfTests() {
      const required = [
        'brand-name', 'brand-role', 'hero-title', 'marquee-text',
        'main-lead', 'works-container', 'footer-links', 'footer-copy', 'year'
      ];
      const missing = required.filter(id => !$(id));
      if (missing.length) console.warn('[AXIS] Missing element ids:', missing);
    }

    document.addEventListener('DOMContentLoaded', () => {
      runSelfTests();

      // --- language ---
      const LS_KEY = 'axis_lang';
      const btnJa = $('lang-ja');
      const btnEn = $('lang-en');

      function setPressed(lang) {
        if (btnJa) btnJa.setAttribute('aria-pressed', lang === 'ja' ? 'true' : 'false');
        if (btnEn) btnEn.setAttribute('aria-pressed', lang === 'en' ? 'true' : 'false');
      }

      function guessFromNavigator() {
        const lang = (navigator.language || '').toLowerCase();
        const tz = (Intl.DateTimeFormat().resolvedOptions().timeZone || '').toLowerCase();
        if (lang.startsWith('ja') || tz.includes('tokyo')) return 'ja';
        return 'en';
      }

      async function guessFromCountry() {
        // Best-effort GeoIP. If it fails, fall back to navigator language.
        const controller = new AbortController();
        const t = setTimeout(() => controller.abort(), 2500);
        try {
          const res = await fetch('https://ipapi.co/country/', { signal: controller.signal, cache: 'no-store' });
          const txt = (await res.text()).trim().toUpperCase();
          if (txt === 'JP') return 'ja';
          return 'en';
        } catch (_) {
          return guessFromNavigator();
        } finally {
          clearTimeout(t);
        }
      }

      function applyHeroTitle(heroTitle) {
        const titleEl = $('hero-title');
        if (!titleEl) return;
        titleEl.innerHTML = heroTitle
          .split('<br>')
          .map(line => `<span>${line}</span>`)
          .join('');
      }

      function applyMarquee(marquee) {
        const marqueeEl = $('marquee-text');
        if (!marqueeEl) return;
        marqueeEl.innerHTML = `<span class="marquee-text">${marquee.repeat(4)}</span>`;
      }

      function rebuildWorks(workTextById, strings) {
        const worksCont = $('works-container');
        const hoverImg = $('hover-reveal');
        const modal = $('modal-wrap');
        const modalImg = $('modal-img');
        const modalTitle = $('modal-title');
        const modalDesc = $('modal-desc');

        if (!worksCont) return;
        worksCont.innerHTML = '';

        for (let i = 1; i <= 4; i++) {
          const imgPath = `image/image${i}.jpg`;
          const info = workTextById[i] || { title: `PROJECT ${String(i).padStart(2, '0')}`, desc: '' };

          const el = document.createElement('div');
          el.className = 'work-item';
          el.style.display = 'none';

          el.innerHTML = `
            <img src="${imgPath}" class="check-img"
              onload="this.closest('.work-item').style.display = 'block'"
              onerror="this.closest('.work-item').remove()">
            <div class="work-header">
              <span class="work-num">(${String(i).padStart(2, '0')})</span>
            </div>
            <h3 class="work-title">${info.title}</h3>
          `;

          if (hoverImg) {
            el.addEventListener('mouseenter', () => {
              hoverImg.src = imgPath;
              hoverImg.classList.add('active');
            });
            el.addEventListener('mouseleave', () => {
              hoverImg.classList.remove('active');
            });
          }

          el.addEventListener('click', (e) => {
            e.preventDefault();
            if (!modal || !modalImg || !modalTitle || !modalDesc) return;
            modalImg.src = imgPath;
            modalTitle.textContent = info.title;
            modalDesc.textContent = info.desc || strings.modalFallback;
            modal.classList.add('open');
            modal.setAttribute('aria-hidden', 'false');
          });

          worksCont.appendChild(el);
        }
      }

      function applySections(sections) {
        safeSetText('sec1-title', sections.sec1Title);
        safeSetText('sec2-title', sections.sec2Title);
        safeSetText('sec2-sub', sections.sec2Sub);
        safeSetText('sec3-title', sections.sec3Title);
        safeSetText('sec3-sub', sections.sec3Sub);
        safeSetText('footer-title', sections.footerTitle);
      }

      function applyLang(lang, source = 'auto') {
        const pack = config.locales[lang] || config.locales.ja;

        document.documentElement.lang = lang;

        safeSetText('brand-name', pack.name);
        safeSetText('brand-role', pack.role);

        applyHeroTitle(pack.heroTitle);
        applyMarquee(pack.marquee);

        safeSetHTML('main-lead', pack.lead);

        safeSetText('co-name', pack.companyNameFull);
        safeSetText('co-business', pack.business);

        applySections(pack.sections);

        rebuildWorks(pack.workText, pack.strings);

        safeSetText('footer-copy', pack.name);
        safeSetText('year', '2023');

        setPressed(lang);

        if (source === 'user') {
          try { localStorage.setItem(LS_KEY, lang); } catch (_) {}
        }
      }

      if (btnJa) btnJa.addEventListener('click', () => applyLang('ja', 'user'));
      if (btnEn) btnEn.addEventListener('click', () => applyLang('en', 'user'));

      let initial = null;
      try { initial = localStorage.getItem(LS_KEY); } catch (_) {}

      (async () => {
        if (initial === 'ja' || initial === 'en') {
          applyLang(initial, 'auto');
        } else {
          const guessed = await guessFromCountry();
          applyLang(guessed, 'auto');
        }
      })();

      // Footer links (static)
      const footLinks = $('footer-links');
      if (footLinks) {
        footLinks.innerHTML = '';
        config.links.forEach((l) => {
          const a = document.createElement('a');
          a.href = l.url;
          a.textContent = l.label;
          footLinks.appendChild(a);
        });
      }

      // Hover image follow
      const hoverImg = $('hover-reveal');
      if (hoverImg) {
        document.addEventListener('mousemove', (e) => {
          const x = e.clientX - 200;
          const y = e.clientY - 150;
          requestAnimationFrame(() => {
            hoverImg.style.left = `${x}px`;
            hoverImg.style.top = `${y}px`;
          });
        });
      }

      // Modal close
      const modal = $('modal-wrap');
      const modalClose = $('modal-close');
      const closeModal = () => {
        if (!modal) return;
        modal.classList.remove('open');
        modal.setAttribute('aria-hidden', 'true');
      };
      if (modalClose) modalClose.addEventListener('click', closeModal);
      if (modal) {
        modal.addEventListener('click', (e) => {
          if (e.target === modal) closeModal();
        });
      }

      // Loader (always show on every visit, wait for background image)
      const loader = document.querySelector('.loader');
      const LOADER_BG = "Null Up壁紙.jpg";

      function hideLoader() {
        if (loader) loader.classList.add('hide');
        document.body.classList.add('loaded');
      }

      if (loader) {
        loader.style.backgroundImage = `url("${encodeURI(LOADER_BG)}")`;
      }

      const img = new Image();
      img.onload = () => setTimeout(hideLoader, 1200);
      img.onerror = () => {
        console.warn('[Loader] background image not found:', LOADER_BG);
        setTimeout(hideLoader, 300);
      };
      img.src = encodeURI(LOADER_BG);
    });
  </script>
</body>
</html>
